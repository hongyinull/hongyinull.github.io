<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éŠ·å”®æ•¸æ“šå„€è¡¨æ¿ | Sales Dashboard</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,300;0,400;0,600;1,300&family=Noto+Serif+TC:wght@300;400;500;600&family=Zen+Old+Mincho:wght@400;500;600&family=Inter:wght@400;500;600&display=swap"
        rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
</head>

<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="site-title">
                <span>éŠ·å”®æ•¸æ“šå„€è¡¨æ¿</span>
                <div class="header-controls">
                    <button class="control-btn theme-toggle" aria-label="Toggle Dark Mode"></button>
                </div>
            </div>
            <p class="subtitle">Sales Data Dashboard</p>
        </header>

        <!-- File Upload Section -->
        <section class="upload-section">
            <div class="section-title">ä¸Šå‚³æª”æ¡ˆ / Upload File</div>
            <div class="upload-area" id="uploadZone">
                <div class="upload-icon">ğŸ“‚</div>
                <div class="upload-text">æ‹–æ”¾ iChef Excel æª”æ¡ˆè‡³æ­¤</div>
                <div class="upload-subtext">æˆ–é»æ“Šé¸æ“‡æª”æ¡ˆ</div>
                <input type="file" id="fileInput" accept=".csv, .xlsx, .xls" multiple hidden>
                <button class="upload-btn" id="uploadBtn">é¸æ“‡æª”æ¡ˆ</button>
            </div>
            <div class="file-info" id="fileInfo" style="display: none;">
                <span class="file-name" id="fileName"></span>
                <span class="file-stats" id="fileStats"></span>
            </div>
        </section>

        <!-- Filter Controls -->
        <section class="filters-section">
            <div class="section-title">ç¯©é¸æ¢ä»¶ / Filters</div>

            <div class="filter-grid">
                <!-- Date Range -->
                <div class="filter-group">
                    <label>æ—¥æœŸå€é–“ / Date Range</label>
                    <div class="date-inputs">
                        <input type="date" id="startDate" class="date-input">
                        <span class="date-separator">â€”</span>
                        <input type="date" id="endDate" class="date-input">
                    </div>
                </div>

                <!-- Quick Date Presets -->
                <div class="filter-group">
                    <label>å¿«é€Ÿé¸æ“‡ / Quick Select</label>
                    <div class="preset-buttons">
                        <button class="preset-btn" data-preset="7days">è¿‘7å¤©</button>
                        <button class="preset-btn" data-preset="30days">è¿‘30å¤©</button>
                        <button class="preset-btn" data-preset="thisMonth">æœ¬æœˆ</button>
                        <button class="preset-btn" data-preset="lastMonth">ä¸Šæœˆ</button>
                    </div>
                </div>

                <!-- Weekday Filter -->
                <div class="filter-group">
                    <label>æ˜ŸæœŸç¯©é¸ / Weekday Filter</label>
                    <div class="weekday-buttons">
                        <button class="weekday-btn active" data-day="0">æ—¥</button>
                        <button class="weekday-btn active" data-day="1">ä¸€</button>
                        <button class="weekday-btn active" data-day="2">äºŒ</button>
                        <button class="weekday-btn active" data-day="3">ä¸‰</button>
                        <button class="weekday-btn active" data-day="4">å››</button>
                        <button class="weekday-btn active" data-day="5">äº”</button>
                        <button class="weekday-btn active" data-day="6">å…­</button>
                    </div>
                </div>

                <!-- Weekend Toggle -->
                <div class="filter-group">
                    <label>ç‰¹æ®Šç¯©é¸</label>
                    <div class="toggle-group">
                        <button class="toggle-btn" id="weekendOnly">åƒ…å‡æ—¥</button>
                        <button class="toggle-btn" id="weekdayOnly">åƒ…å¹³æ—¥</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Visualization Controls -->
        <section class="viz-section">
            <div class="section-title">è¦–è¦ºåŒ–é¡å‹</div>



            <div class="viz-buttons">
                <button class="viz-btn active" data-viz="heatmap">ç†±åŠ›åœ–</button>
                <button class="viz-btn" data-viz="bar">æŸ±ç‹€åœ–</button>
                <button class="viz-btn" data-viz="line">è¶¨å‹¢åœ–</button>
                <button class="viz-btn" data-viz="hourly">æ™‚æ®µåˆ†æ</button>
                <button class="viz-btn" data-viz="stats">çµ±è¨ˆæ‘˜è¦ / Statistics</button>
                <button class="viz-btn" data-viz="compare">æ¯”è¼ƒåˆ†æ / Compare</button>
            </div>

            <!-- Custom Chart Builder -->
            <div id="customBuilder" class="custom-builder" style="display: none;">
                <div class="builder-section">
                    <div class="section-header">
                        <h3>åœ–è¡¨è¨­å®š / Chart Settings</h3>
                    </div>
                    <div class="settings-grid">
                        <div class="setting-group">
                            <label>Xè»¸æ¨¡å¼ / X-Axis Mode</label>
                            <select id="xAxisMode" class="builder-select">
                                <option value="absolute">çµ•å°æ™‚é–“ (Absolute Date)</option>
                                <option value="relative">ç›¸å°å¤©æ•¸ (Relative Day)</option>
                                <option value="hourly">å°æ™‚ (Hourly 0-23)</option>
                            </select>
                        </div>
                        <div class="setting-group">
                            <label>åœ–è¡¨é¡å‹ / Chart Type</label>
                            <select id="chartType" class="builder-select">
                                <option value="line">æŠ˜ç·šåœ– (Line)</option>
                                <option value="bar">æŸ±ç‹€åœ– (Bar)</option>
                            </select>
                        </div>
                        <div class="setting-group">
                            <label>æ•¸æ“šæŒ‡æ¨™ / Metric</label>
                            <div class="metric-toggle-group">
                                <button class="metric-btn active" data-metric="sales">çµå¸³ç­†æ•¸</button>
                                <button class="metric-btn" data-metric="revenue">ç‡Ÿæ”¶é‡‘é¡</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="builder-section">
                    <div class="section-header">
                        <h3>æ•¸æ“šç³»åˆ— / Data Series</h3>
                        <button id="addSeriesBtn" class="add-btn">+ æ–°å¢ç³»åˆ— / Add Series</button>
                    </div>
                    <div id="seriesList" class="series-list">
                        <!-- Series cards will be added here dynamically -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Chart Container -->
        <section class="chart-section">
            <div id="chartContainer">
                <canvas id="mainChart"></canvas>
            </div>
            <div id="heatmapContainer" class="heatmap-grid"></div>
            <div id="statsContainer" class="stats-grid"></div>
        </section>

        <!-- Footer -->
        <footer>
            <a href="../index.html" class="back-link">â† è¿”å›é¦–é  / Back to Home</a>
        </footer>
    </div>

    <script src="sample-data.js"></script>
    <script src="dashboard.js"></script>
</body>

</html>